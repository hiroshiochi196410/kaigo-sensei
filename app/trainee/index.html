<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>介護ロールプレイAI（Trainee）</title>
  <style>
    body { font-family: sans-serif; padding: 16px; }
    textarea { width: 100%; min-height: 80px; }
    button { margin: 6px 4px; padding: 6px 12px; }
    .box { border: 1px solid #ccc; padding: 8px; margin-top: 10px; }
    .row { display: flex; gap: 12px; }
    .col { flex: 1; }
  </style>
</head>
<body>

<h2>介護ロールプレイAI</h2>

<div>
  Scene:
  <select id="scene">
    <option value="入浴">入浴</option>
    <option value="食事">食事</option>
  </select>

  Persona:
  <select id="persona">
    <option value="穏やか">利用者：穏やか</option>
  </select>

  カテゴリ:
  <select id="category">
    <option value="声かけ">声かけ</option>
    <option value="嚥下ふせ">嚥下ふせ</option>
  </select>

  レベル:
  <select id="level">
    <option value="初級">初級</option>
    <option value="中級">中級</option>
  </select>

  <button type="button" onclick="insertExample()">例文を入れる</button>

  <label>
    <input type="checkbox" id="autoStage2" checked>
    Stage2を自動実行
  </label>
</div>

<h3>介護士（あなた）の発話（日本語）</h3>
<textarea id="jpInput" placeholder="例文ボタンで自動入力、または自由入力"></textarea>

<h3>介護士発話（ローマ字）</h3>
<textarea id="romaInput"></textarea>

<button type="button" onclick="runStage1()">送信</button>
<button type="button" onclick="runStage2Only()">Stage2だけ実行</button>

<div class="row">
  <div class="col box">
    <h4>Stage1（日本語）</h4>
    <div id="aiReply"></div>
    <div id="feedback"></div>
    <textarea id="jpSuggest">Stage1実行後に入ります</textarea>
  </div>

  <div class="col box">
    <h4>Stage2（翻訳・推奨返答）</h4>
    <div id="romaSuggest"></div>
    <div id="idSuggest"></div>
  </div>
</div>

<script>
function insertExample() {
  document.getElementById("jpInput").value =
    "ゆっくりで大丈夫ですよ。気持ちよく入りましょう。";
}

function runStage1() {
  const jp = document.getElementById("jpInput").value.trim();
  if (!jp) {
    alert("日本語入力が空です");
    return;
  }

  document.getElementById("aiReply").innerText =
    "（AI）安心しました。ありがとうございます。";

  document.getElementById("feedback").innerText =
    "声のトーンがとても良いです。";

  document.getElementById("jpSuggest").value =
    "寒くないか、ゆっくり確認しながら進めましょう。";

  if (document.getElementById("autoStage2").checked) {
    runStage2();
  }
}

function runStage2() {
  document.getElementById("romaSuggest").innerText =
    "Yukkuri de daijoubu desu yo.";

  document.getElementById("idSuggest").innerText =
    "Tidak apa-apa, silakan pelan-pelan.";
}

function runStage2Only() {
  runStage2();
}
</script>

</body>
</html>
